/* src/app/globals.css */
@import "tailwindcss";

html, body {
  height: 100%;
}

/* Theme vars (RGB triplets) */
:root {
  --facts-bg: 10 10 10;
  --facts-tint: 20 20 20;
  --facts-fg: 245 245 245;

  --story-bg: 7 28 18;
  --story-tint: 10 44 26;
  --story-fg: 240 253 244;
}

/* Typewriter */
@keyframes typewriter-reveal {
  from { width: 0 }
  to { width: var(--tw-width) }
}
@keyframes typewriter-caret {
  0%, 49% { opacity: 1 }
  50%, 100% { opacity: 0 }
}

.typewriter {
  display: block;
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%;

  width: 0;
  border-right: 0;
  animation: typewriter-reveal var(--tw-duration, 2200ms)
    steps(var(--tw-steps, 30), end) forwards;
}

.typewriter-caret {
  border-right: 2px solid rgba(255, 255, 255, 0.45);
  animation:
    typewriter-reveal var(--tw-duration, 2200ms) steps(var(--tw-steps, 30), end) forwards,
    typewriter-caret 0.9s step-end infinite;
}

.typewriter-muted.typewriter-caret {
  border-right-color: rgba(255, 255, 255, 0.28);
}

/* Terminal cursor line */
@keyframes terminal-blink {
  0%, 49% { opacity: 1 }
  50%, 100% { opacity: 0 }
}

.terminal-cursor {
  display: inline-block;
  animation: terminal-blink 0.9s step-end infinite;
}

/* Divider boot pulse (runs once) */
@keyframes divider-boot-pulse {
  0%   { opacity: 0.15; transform: translateX(-50%) scaleY(0.6); }
  35%  { opacity: 0.9;  transform: translateX(-50%) scaleY(1.0); }
  65%  { opacity: 0.35; transform: translateX(-50%) scaleY(1.0); }
  100% { opacity: 0.15; transform: translateX(-50%) scaleY(1.0); }
}

.divider-boot {
  animation: divider-boot-pulse 900ms ease-out 1;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .typewriter,
  .typewriter-caret {
    width: auto !important;
    max-width: 100% !important;
    border-right: none !important;
    animation: none !important;
  }

  .terminal-cursor {
    animation: none !important;
  }

  .divider-boot {
    animation: none !important;
  }
}
